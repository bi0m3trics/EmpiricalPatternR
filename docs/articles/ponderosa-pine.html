<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Ponderosa Pine Forest with Custom Configurations • EmpiricalPatternR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Ponderosa Pine Forest with Custom Configurations">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EmpiricalPatternR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/pinyon-juniper.html">Pinyon-Juniper Woodland</a></li>
    <li><a class="dropdown-item" href="../articles/ponderosa-pine.html">Ponderosa Pine Forest</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bi0m3trics/EmpiricalPatternR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Ponderosa Pine Forest with Custom Configurations</h1>
                        <h4 data-toc-skip class="author">EmpiricalPatternR
Package</h4>
            
            <h4 data-toc-skip class="date">2026-02-03</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/bi0m3trics/EmpiricalPatternR/blob/HEAD/vignettes/ponderosa-pine.Rmd" class="external-link"><code>vignettes/ponderosa-pine.Rmd</code></a></small>
      <div class="d-none name"><code>ponderosa-pine.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This vignette demonstrates how to create <strong>custom
configurations</strong> for different forest types using
<code><a href="../reference/create_config.html">create_config()</a></code>. We’ll simulate a ponderosa pine forest
with:</p>
<ul>
<li>Custom target values (different from pinyon-juniper)</li>
<li>Multiple species (PIPO, PSME, ABCO)</li>
<li>Larger trees (montane forest)</li>
<li>Different allometric relationships</li>
<li>No nurse tree effect</li>
</ul>
</div>
<div class="section level2">
<h2 id="why-custom-configurations">Why Custom Configurations?<a class="anchor" aria-label="anchor" href="#why-custom-configurations"></a>
</h2>
<p>The pre-built <code><a href="../reference/pj_huffman_2009.html">pj_huffman_2009()</a></code> configuration is great
for pinyon-juniper woodlands, but other forest types have different
characteristics:</p>
<table class="table">
<thead><tr class="header">
<th>Characteristic</th>
<th>Pinyon-Juniper</th>
<th>Ponderosa Pine</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Density</td>
<td>~900 trees/ha</td>
<td>~450 trees/ha</td>
</tr>
<tr class="even">
<td>Mean DBH</td>
<td>15 cm</td>
<td>35 cm</td>
</tr>
<tr class="odd">
<td>Mean Height</td>
<td>8 m</td>
<td>18 m</td>
</tr>
<tr class="even">
<td>Species</td>
<td>2 (PIED, JUSO)</td>
<td>3+ (PIPO, PSME, ABCO)</td>
</tr>
<tr class="odd">
<td>Spacing</td>
<td>Clumped (R~1.0)</td>
<td>Regular (R~1.4)</td>
</tr>
<tr class="even">
<td>Nurse Effect</td>
<td>Yes</td>
<td>No</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="step-1-load-package">Step 1: Load Package<a class="anchor" aria-label="anchor" href="#step-1-load-package"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bi0m3trics.github.io/EmpiricalPatternR">EmpiricalPatternR</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="step-2-get-ponderosa-allometric-parameters">Step 2: Get Ponderosa Allometric Parameters<a class="anchor" aria-label="anchor" href="#step-2-get-ponderosa-allometric-parameters"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get species-specific allometric equations</span></span>
<span><span class="va">ponderosa_params</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_ponderosa_allometric_params.html">get_ponderosa_allometric_params</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View crown radius parameters</span></span>
<span><span class="va">ponderosa_params</span><span class="op">$</span><span class="va">crown_radius</span><span class="op">$</span><span class="va">PIPO</span></span>
<span><span class="co"># $a: -0.204  (intercept)</span></span>
<span><span class="co"># $b:  0.649  (DBH coefficient)  </span></span>
<span><span class="co"># $c:  0.421  (height coefficient)</span></span>
<span></span>
<span><span class="co"># View height parameters (Chapman-Richards)</span></span>
<span><span class="va">ponderosa_params</span><span class="op">$</span><span class="va">height</span><span class="op">$</span><span class="va">PIPO</span></span>
<span><span class="co"># $a: 27.0    (asymptotic height - 1.3)</span></span>
<span><span class="co"># $b: 0.025   (growth rate)</span></span>
<span></span>
<span><span class="co"># View foliage mass parameters (Miller)</span></span>
<span><span class="va">ponderosa_params</span><span class="op">$</span><span class="va">foliage</span><span class="op">$</span><span class="va">PIPO</span></span>
<span><span class="co"># $a: -2.287  (intercept)</span></span>
<span><span class="co"># $b:  1.924  (DBH coefficient)</span></span></code></pre></div>
<p>These parameters come from published equations: -
<strong>Crown</strong>: Reese et al. (log-log with height) -
<strong>Height</strong>: Chapman-Richards growth model -
<strong>Foliage</strong>: Miller et al. (log-log)</p>
</div>
<div class="section level2">
<h2 id="step-3-create-custom-configuration">Step 3: Create Custom Configuration<a class="anchor" aria-label="anchor" href="#step-3-create-custom-configuration"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_config.html">create_config</a></span><span class="op">(</span></span>
<span>  <span class="co"># Target stand structure</span></span>
<span>  density_ha <span class="op">=</span> <span class="fl">450</span>,</span>
<span>  species_props <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>PIPO <span class="op">=</span> <span class="fl">0.70</span>, PSME <span class="op">=</span> <span class="fl">0.20</span>, ABCO <span class="op">=</span> <span class="fl">0.10</span><span class="op">)</span>,</span>
<span>  mean_dbh <span class="op">=</span> <span class="fl">35.0</span>,</span>
<span>  sd_dbh <span class="op">=</span> <span class="fl">12.0</span>,</span>
<span>  mean_height <span class="op">=</span> <span class="fl">18.0</span>,</span>
<span>  sd_height <span class="op">=</span> <span class="fl">6.0</span>,</span>
<span>  canopy_cover <span class="op">=</span> <span class="fl">0.45</span>,</span>
<span>  cfl <span class="op">=</span> <span class="fl">0.85</span>,</span>
<span>  clark_evans_r <span class="op">=</span> <span class="fl">1.4</span>,</span>
<span>  </span>
<span>  <span class="co"># Simulation parameters</span></span>
<span>  plot_size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  max_iterations <span class="op">=</span> <span class="fl">5000</span>,</span>
<span>  temp_initial <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  cooling_rate <span class="op">=</span> <span class="fl">0.9999</span>,</span>
<span>  </span>
<span>  <span class="co"># Optimization weights</span></span>
<span>  weight_ce <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  weight_dbh_mean <span class="op">=</span> <span class="fl">15</span>,</span>
<span>  weight_dbh_sd <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  weight_height_mean <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  weight_height_sd <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  weight_species <span class="op">=</span> <span class="fl">60</span>,</span>
<span>  weight_canopy_cover <span class="op">=</span> <span class="fl">60</span>,</span>
<span>  weight_cfl <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  weight_density <span class="op">=</span> <span class="fl">80</span>,</span>
<span>  weight_nurse <span class="op">=</span> <span class="fl">0</span>,  <span class="co"># No nurse effect</span></span>
<span>  </span>
<span>  <span class="co"># No nurse trees</span></span>
<span>  nurse_distance <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  use_nurse_effect <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mortality_prop <span class="op">=</span> <span class="fl">0.10</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View configuration</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">config</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="configuration-explanation">Configuration Explanation<a class="anchor" aria-label="anchor" href="#configuration-explanation"></a>
</h3>
<p><strong>Target Structure</strong>: - <code>density_ha = 450</code>:
Lower density than P-J (managed stand) - <code>species_props</code>: 70%
ponderosa, 20% Douglas-fir, 10% white fir - <code>mean_dbh = 35</code>:
Much larger trees (mature forest) - <code>clark_evans_r = 1.4</code>:
Regular spacing (managed/natural fire regime)</p>
<p><strong>Optimization Weights</strong>: -
<code>weight_density = 80</code>: Critical to match tree count -
<code>weight_species = 60</code>: Important for composition -
<code>weight_canopy_cover = 60</code>: Important for structure -
<code>weight_nurse = 0</code>: Disabled (no nurse effect in
ponderosa)</p>
<p><strong>Simulation Parameters</strong>: -
<code>max_iterations = 5000</code>: Fewer needed (lower density) -
<code>cooling_rate = 0.9999</code>: Slower cooling (more
exploration)</p>
</div>
</div>
<div class="section level2">
<h2 id="step-4-run-simulation">Step 4: Run Simulation<a class="anchor" aria-label="anchor" href="#step-4-run-simulation"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">456</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_stand.html">simulate_stand</a></span><span class="op">(</span></span>
<span>  targets <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="va">targets</span>,</span>
<span>  weights <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="va">weights</span>,</span>
<span>  plot_size <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="va">simulation</span><span class="op">$</span><span class="va">plot_size</span>,</span>
<span>  max_iterations <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="va">simulation</span><span class="op">$</span><span class="va">max_iterations</span>,</span>
<span>  initial_temp <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="va">simulation</span><span class="op">$</span><span class="va">temp_initial</span>,</span>
<span>  cooling_rate <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="va">simulation</span><span class="op">$</span><span class="va">cooling_rate</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_interval <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  nurse_distance <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="va">simulation</span><span class="op">$</span><span class="va">nurse_distance</span>,</span>
<span>  use_nurse_effect <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="va">simulation</span><span class="op">$</span><span class="va">use_nurse_effect</span>,</span>
<span>  mortality_prop <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="va">simulation</span><span class="op">$</span><span class="va">mortality_prop</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="step-5-analyze-results">Step 5: Analyze Results<a class="anchor" aria-label="anchor" href="#step-5-analyze-results"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/analyze_simulation_results.html">analyze_simulation_results</a></span><span class="op">(</span></span>
<span>  result <span class="op">=</span> <span class="va">result</span>,</span>
<span>  targets <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="va">targets</span>,</span>
<span>  prefix <span class="op">=</span> <span class="st">"ponderosa_forest"</span>,</span>
<span>  save_plots <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  nurse_distance_target <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  target_mortality <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="va">simulation</span><span class="op">$</span><span class="va">mortality_prop</span> <span class="op">*</span> <span class="fl">100</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="expected-output">Expected Output<a class="anchor" aria-label="anchor" href="#expected-output"></a>
</h3>
<pre><code>================================================================================
SIMULATION RESULTS SUMMARY
Stand: ponderosa_forest
================================================================================

STAND METRICS:
                          Achieved    Target      Diff     Status
  Density (trees/ha)      448         450         -2       ✓ GOOD
  Mean DBH (cm)           34.8        35.0        -0.2     ✓ GOOD
  Mean Height (m)         17.9        18.0        -0.1     ✓ GOOD
  Canopy Cover (%)        44.7        45.0        -0.3     ✓ GOOD
  CFL (kg/m²)             0.84        0.85        -0.01    ✓ GOOD
  Clark-Evans R           1.38        1.40        -0.02    ✓ GOOD

SPECIES COMPOSITION:
  PIPO (Ponderosa Pine)   69.8%       70.0%       -0.2%    ✓ GOOD
  PSME (Douglas-fir)      20.1%       20.0%       +0.1%    ✓ GOOD
  ABCO (White Fir)        10.1%       10.0%       +0.1%    ✓ GOOD

MORTALITY SIMULATION:
  Trees killed:           45 (10.0%)
  Surviving trees:        403 (90.0%)</code></pre>
</div>
</div>
<div class="section level2">
<h2 id="step-6-compare-allometric-equations">Step 6: Compare Allometric Equations<a class="anchor" aria-label="anchor" href="#step-6-compare-allometric-equations"></a>
</h2>
<p>One key difference between forest types is allometric
relationships:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare crown radius for 40cm DBH tree</span></span>
<span><span class="va">test_dbh</span> <span class="op">&lt;-</span> <span class="fl">40</span></span>
<span><span class="va">test_species</span> <span class="op">&lt;-</span> <span class="st">"PIPO"</span></span>
<span></span>
<span><span class="co"># Default (P-J) parameters</span></span>
<span><span class="va">default_params</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_default_allometric_params.html">get_default_allometric_params</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">default_height</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_height.html">calc_height</a></span><span class="op">(</span><span class="va">test_dbh</span>, <span class="va">test_species</span>, <span class="va">default_params</span><span class="op">)</span></span>
<span><span class="va">default_radius</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_crown_radius.html">calc_crown_radius</a></span><span class="op">(</span><span class="va">test_dbh</span>, <span class="va">default_height</span>, <span class="va">test_species</span>, <span class="va">default_params</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Ponderosa parameters</span></span>
<span><span class="va">ponderosa_height</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_height.html">calc_height</a></span><span class="op">(</span><span class="va">test_dbh</span>, <span class="va">test_species</span>, <span class="va">ponderosa_params</span><span class="op">)</span></span>
<span><span class="va">ponderosa_radius</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_crown_radius.html">calc_crown_radius</a></span><span class="op">(</span><span class="va">test_dbh</span>, <span class="va">ponderosa_height</span>, <span class="va">test_species</span>, <span class="va">ponderosa_params</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"40cm DBH Ponderosa Pine:\n"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"  Default equations:  Radius = %.2fm, Height = %.1fm\n"</span>, </span>
<span>            <span class="va">default_radius</span>, <span class="va">default_height</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"  Ponderosa equations: Radius = %.2fm, Height = %.1fm\n"</span>,</span>
<span>            <span class="va">ponderosa_radius</span>, <span class="va">ponderosa_height</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"  Difference:         +%.2fm (+%.1f%%), +%.1fm (+%.1f%%)\n"</span>,</span>
<span>            <span class="va">ponderosa_radius</span> <span class="op">-</span> <span class="va">default_radius</span>,</span>
<span>            <span class="op">(</span><span class="va">ponderosa_radius</span><span class="op">/</span><span class="va">default_radius</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>,</span>
<span>            <span class="va">ponderosa_height</span> <span class="op">-</span> <span class="va">default_height</span>,</span>
<span>            <span class="op">(</span><span class="va">ponderosa_height</span><span class="op">/</span><span class="va">default_height</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Ponderosa pines typically have: - <strong>Larger crowns</strong> for
given DBH (more open grown) - <strong>Taller heights</strong> (montane
environment) - <strong>More foliage mass</strong> (higher photosynthetic
capacity)</p>
</div>
<div class="section level2">
<h2 id="custom-configuration-scenarios">Custom Configuration Scenarios<a class="anchor" aria-label="anchor" href="#custom-configuration-scenarios"></a>
</h2>
<div class="section level3">
<h3 id="scenario-1-dense-young-stand">Scenario 1: Dense Young Stand<a class="anchor" aria-label="anchor" href="#scenario-1-dense-young-stand"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">config_young</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_config.html">create_config</a></span><span class="op">(</span></span>
<span>  density_ha <span class="op">=</span> <span class="fl">800</span>,</span>
<span>  species_props <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>PIPO <span class="op">=</span> <span class="fl">1.0</span><span class="op">)</span>,</span>
<span>  mean_dbh <span class="op">=</span> <span class="fl">15.0</span>,</span>
<span>  sd_dbh <span class="op">=</span> <span class="fl">5.0</span>,</span>
<span>  mean_height <span class="op">=</span> <span class="fl">8.0</span>,</span>
<span>  sd_height <span class="op">=</span> <span class="fl">3.0</span>,</span>
<span>  canopy_cover <span class="op">=</span> <span class="fl">0.50</span>,</span>
<span>  cfl <span class="op">=</span> <span class="fl">0.60</span>,</span>
<span>  clark_evans_r <span class="op">=</span> <span class="fl">1.0</span>,  <span class="co"># Clumped</span></span>
<span>  plot_size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  max_iterations <span class="op">=</span> <span class="fl">8000</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="scenario-2-old-growth-stand">Scenario 2: Old-Growth Stand<a class="anchor" aria-label="anchor" href="#scenario-2-old-growth-stand"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">config_oldgrowth</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_config.html">create_config</a></span><span class="op">(</span></span>
<span>  density_ha <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  species_props <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>PIPO <span class="op">=</span> <span class="fl">0.60</span>, PSME <span class="op">=</span> <span class="fl">0.30</span>, ABCO <span class="op">=</span> <span class="fl">0.10</span><span class="op">)</span>,</span>
<span>  mean_dbh <span class="op">=</span> <span class="fl">60.0</span>,</span>
<span>  sd_dbh <span class="op">=</span> <span class="fl">25.0</span>,</span>
<span>  mean_height <span class="op">=</span> <span class="fl">28.0</span>,</span>
<span>  sd_height <span class="op">=</span> <span class="fl">10.0</span>,</span>
<span>  canopy_cover <span class="op">=</span> <span class="fl">0.40</span>,</span>
<span>  cfl <span class="op">=</span> <span class="fl">1.20</span>,</span>
<span>  clark_evans_r <span class="op">=</span> <span class="fl">1.6</span>,  <span class="co"># Very regular</span></span>
<span>  plot_size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  max_iterations <span class="op">=</span> <span class="fl">3000</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="scenario-3-post-fire-stand">Scenario 3: Post-Fire Stand<a class="anchor" aria-label="anchor" href="#scenario-3-post-fire-stand"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">config_postfire</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_config.html">create_config</a></span><span class="op">(</span></span>
<span>  density_ha <span class="op">=</span> <span class="fl">150</span>,</span>
<span>  species_props <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>PIPO <span class="op">=</span> <span class="fl">0.80</span>, PSME <span class="op">=</span> <span class="fl">0.15</span>, ABCO <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span>,</span>
<span>  mean_dbh <span class="op">=</span> <span class="fl">45.0</span>,</span>
<span>  sd_dbh <span class="op">=</span> <span class="fl">20.0</span>,</span>
<span>  mean_height <span class="op">=</span> <span class="fl">20.0</span>,</span>
<span>  sd_height <span class="op">=</span> <span class="fl">8.0</span>,</span>
<span>  canopy_cover <span class="op">=</span> <span class="fl">0.30</span>,</span>
<span>  cfl <span class="op">=</span> <span class="fl">0.50</span>,</span>
<span>  clark_evans_r <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>  plot_size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  max_iterations <span class="op">=</span> <span class="fl">3000</span>,</span>
<span>  mortality_prop <span class="op">=</span> <span class="fl">0.05</span>  <span class="co"># Low mortality (survivors)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="troubleshooting-custom-configs">Troubleshooting Custom Configs<a class="anchor" aria-label="anchor" href="#troubleshooting-custom-configs"></a>
</h2>
<div class="section level3">
<h3 id="issue-energy-not-converging">Issue: Energy Not Converging<a class="anchor" aria-label="anchor" href="#issue-energy-not-converging"></a>
</h3>
<p><strong>Symptoms</strong>: Final energy &gt; 5000, metrics don’t
match targets</p>
<p><strong>Solutions</strong>: 1. Increase <code>max_iterations</code>
(try 10000, 20000) 2. Decrease <code>cooling_rate</code> (try 0.99995
for slower cooling) 3. Check for conflicting targets (e.g., high density
+ high canopy) 4. Adjust weights to prioritize most important
metrics</p>
</div>
<div class="section level3">
<h3 id="issue-species-proportions-off">Issue: Species Proportions Off<a class="anchor" aria-label="anchor" href="#issue-species-proportions-off"></a>
</h3>
<p><strong>Symptoms</strong>: One species dominates or is missing</p>
<p><strong>Solutions</strong>: 1. Increase <code>weight_species</code>
(try 80-100) 2. Check that <code>species_props</code> sums to 1.0 3.
Ensure all species have allometric parameters defined</p>
</div>
<div class="section level3">
<h3 id="issue-canopy-cover-mismatch">Issue: Canopy Cover Mismatch<a class="anchor" aria-label="anchor" href="#issue-canopy-cover-mismatch"></a>
</h3>
<p><strong>Symptoms</strong>: Achieved cover much higher/lower than
target</p>
<p><strong>Solutions</strong>: 1. Adjust both <code>canopy_cover</code>
target AND <code>weight_canopy_cover</code> 2. Check allometric
equations (larger crowns = more cover) 3. Consider interaction with
density and mean DBH</p>
</div>
<div class="section level3">
<h3 id="issue-spatial-pattern-wrong">Issue: Spatial Pattern Wrong<a class="anchor" aria-label="anchor" href="#issue-spatial-pattern-wrong"></a>
</h3>
<p><strong>Symptoms</strong>: Trees clumped when should be regular (or
vice versa)</p>
<p><strong>Solutions</strong>: 1. Increase <code>weight_ce</code> to
prioritize spatial pattern 2. Adjust <code>clark_evans_r</code> target
(1.0 = random, &gt;1.0 = regular, &lt;1.0 = clumped) 3. Increase
iterations for spatial optimization</p>
</div>
</div>
<div class="section level2">
<h2 id="saving-and-sharing-configurations">Saving and Sharing Configurations<a class="anchor" aria-label="anchor" href="#saving-and-sharing-configurations"></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Save configuration for later use</span></span>
<span><span class="fu"><a href="../reference/save_config.html">save_config</a></span><span class="op">(</span><span class="va">config</span>, <span class="st">"my_ponderosa_config.rds"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load saved configuration</span></span>
<span><span class="va">config_loaded</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"my_ponderosa_config.rds"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Share as R script (editable template)</span></span>
<span><span class="fu"><a href="../reference/generate_config_template.html">generate_config_template</a></span><span class="op">(</span></span>
<span>  file <span class="op">=</span> <span class="st">"ponderosa_template.R"</span>,</span>
<span>  config_name <span class="op">=</span> <span class="st">"my_ponderosa_config"</span>,</span>
<span>  base_config <span class="op">=</span> <span class="st">"custom"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="advanced-integrating-custom-allometry">Advanced: Integrating Custom Allometry<a class="anchor" aria-label="anchor" href="#advanced-integrating-custom-allometry"></a>
</h2>
<p><strong>Note</strong>: Current version uses built-in allometric
equations during simulation. To fully integrate custom equations, you
would:</p>
<ol style="list-style-type: decimal">
<li>Modify <code><a href="../reference/calc_tree_attributes.html">calc_tree_attributes()</a></code> to accept
<code>allometric_params</code> argument</li>
<li>Pass custom parameters through <code><a href="../reference/simulate_stand.html">simulate_stand()</a></code>
</li>
<li>Apply custom equations to all attribute calculations</li>
</ol>
<p>This is a planned enhancement. For now, custom allometry can be: -
Applied post-hoc to results - Used in custom analysis scripts -
Incorporated in derived metrics</p>
</div>
<div class="section level2">
<h2 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h2>
<ul>
<li>
<strong>Template System</strong>: Use
<code><a href="../reference/generate_config_template.html">generate_config_template()</a></code> for easier customization</li>
<li>
<strong>Multiple Runs</strong>: Compare different
configurations/scenarios</li>
<li>
<strong>Sensitivity Analysis</strong>: Test how results change with
parameter variations</li>
<li>
<strong>Field Validation</strong>: Compare simulated stands to field
measurements</li>
</ul>
</div>
<div class="section level2">
<h2 id="see-also">See Also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<ul>
<li>
<code><a href="../reference/create_config.html">?create_config</a></code> - Full parameter documentation</li>
<li>
<code><a href="../reference/get_ponderosa_allometric_params.html">?get_ponderosa_allometric_params</a></code> - Allometric equation
details</li>
<li>
<code><a href="../reference/generate_config_template.html">?generate_config_template</a></code> - Create editable
templates</li>
<li>
<code><a href="../articles/getting-started.html">vignette("getting-started")</a></code> - Package introduction</li>
<li>
<code><a href="../articles/pinyon-juniper.html">vignette("pinyon-juniper")</a></code> - Pre-built configuration
example</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/bi0m3trics" class="external-link">Andrew Sánchez Meador</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
